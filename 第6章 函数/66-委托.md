##å§”æ‰˜

&emsp;&emsp;å§”æ‰˜ï¼ˆ`delegate`ï¼‰æ˜¯ä¸€ç§å­˜å‚¨å‡½æ•°å¼•ç”¨çš„ç±»åž‹ã€‚è¿™å¬èµ·æ¥ç›¸å½“é«˜æ·±ï¼Œä½†å…¶æœºåˆ¶æ˜¯éžå¸¸ç®€å•çš„ã€‚å§”æ‰˜æœ€é‡è¦çš„ç”¨é€”åœ¨æœ¬ä¹¦åŽé¢ä»‹ç»åˆ°äº‹ä»¶å’Œäº‹ä»¶å¤„ç†æ—¶æ‰èƒ½è§£é‡Šæ¸…æ¥šï¼Œä½†è¿™é‡Œä¹Ÿå°†ä»‹ç»æœ‰å…³å§”æ‰˜çš„è®¸å¤šå†…å®¹ã€‚å§”æ‰˜çš„å£°æ˜Žéžå¸¸ç±»ä¼¼äºŽå‡½æ•°ï¼Œä½†ä¸å¸¦å‡½æ•°ä½“ï¼Œä¸”è¦ä½¿ç”¨ `delegate` å…³é”®å­—ã€‚å§”æ‰˜çš„å£°æ˜ŽæŒ‡å®šäº†ä¸€ä¸ªè¿”å›žç±»åž‹å’Œä¸€ä¸ªå‚æ•°åˆ—è¡¨ã€‚

&emsp;&emsp;å®šä¹‰äº†å§”æ‰˜åŽï¼Œå°±å¯ä»¥å£°æ˜Žè¯¥å§”æ‰˜ç±»åž‹çš„å˜é‡ã€‚æŽ¥ç€æŠŠè¿™ä¸ªå˜é‡åˆå§‹åŒ–ä¸ºä¸Žå§”æ‰˜å…·æœ‰ç›¸åŒè¿”å›žç±»åž‹å’Œå‚æ•°åˆ—è¡¨çš„å‡½æ•°å¼•ç”¨ã€‚ä¹‹åŽï¼Œå°±å¯ä»¥ä½¿ç”¨å§”æ‰˜å˜é‡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå°±åƒè¯¥å˜é‡æ˜¯ä¸€ä¸ªå‡½æ•°ä¸€æ ·ã€‚

>&emsp;&emsp;æœ‰äº†å¼•ç”¨å‡½æ•°çš„å˜é‡åŽï¼Œå°±å¯ä»¥æ‰§è¡Œä¸èƒ½ç”¨å…¶ä»–æ–¹å¼å®Œæˆçš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æŠŠå§”æ‰˜å˜é‡ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·ï¼Œè¯¥å‡½æ•°å°±å¯ä»¥ä½¿ç”¨å§”æ‰˜è°ƒç”¨å®ƒå¼•ç”¨çš„ä»»ä½•å‡½æ•°ï¼Œè€Œä¸”åœ¨è¿è¡Œä¹‹å‰ä¸å¿…çŸ¥é“è°ƒç”¨çš„æ˜¯å“ªä¸ªå‡½æ•°ã€‚ä¸‹é¢çš„ç¤ºä¾‹ä½¿ç”¨å§”æ‰˜è®¿é—®ä¸¤ä¸ªå‡½æ•°ä¸­çš„ä¸€ä¸ªã€‚

>&emsp;&emsp;æŠŠä¸‹åˆ—ä»£ç æ·»åŠ åˆ° `Program.cs` ä¸­ï¼š

>```javascript
        class Program
        {
            delegate double ProcessDelegate(double param1, double param2);

>             static double Multiply(doule param1, double param2)
            {
                return param1 * param2;
            }

>             static double Divide(double param1, double param2)
            {
                return param1 /  param2;
            }

>             static void Main(string[] args)
            {
                ProcessDelegate process;
                Console.WriteLine("Enter 2 numbers separated with a comma:");
                string input = Console.ReadLine();
                int commaPos = input.IndexOf( ',' );
                double param1 = Convert.ToDouble(input.Substring(0, commaPos));
                double param2 = Convert.ToDouble(intput.Substring(commaPos + 1, input.Length - commaPos - 1));
                Console.WriteLine("Enter M to multiply or D to divide:");
                input = Console.ReadLine();
                if (input == 'M')
                    process = new ProcessDelegate(Multiply);
                else
                    process = new ProcessDelegate(Divide);
                Console.WriteLine("Result: {0}", process(param1, param2));
                Console.ReadKey();
            }
        }
```

>&emsp;&emsp;**ç¤ºä¾‹çš„è¯´æ˜Ž**

>&emsp;&emsp;è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªå§”æ‰˜ `ProcessDelegate`ï¼Œå…¶è¿”å›žç±»åž‹å’Œå‚æ•°ä¸Žå‡½æ•° `Multiply()` å’Œ `Divide()` ç›¸åŒ¹é…ã€‚å§”æ‰˜çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š

>```javascript
        delegate double ProcessDelegate(double param1, double param2);
```

>&emsp;&emsp;`delegate` å…³é”®å­—æŒ‡å®šè¯¥å®šä¹‰æ˜¯ç”¨äºŽå§”æ‰˜çš„ï¼Œè€Œä¸æ˜¯ç”¨äºŽå‡½æ•°çš„ï¼ˆè¯¥å®šä¹‰æ‰€åœ¨çš„ä½ç½®ä¸Žå‡½æ•°å®šä¹‰ç›¸åŒï¼‰ã€‚æŽ¥ç€ï¼Œè¯¥å®šä¹‰æŒ‡å®š `double` è¿”å›žç±»åž‹å’Œä¸¤ä¸ª `double` å‚æ•°ã€‚å®žé™…ä½¿ç”¨çš„åç§°å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œæ‰€ä»¥å¯ä»¥ç»™å§”æ‰˜ç±»åž‹å’Œå‚æ•°æŒ‡å®šä»»æ„åç§°ã€‚è¿™é‡Œå§”æ‰˜åæ˜¯ `ProcessDelegate`ï¼Œ`double` å‚æ•°åæ˜¯ `param1` å’Œ `param2`ã€‚

>&emsp;&emsp;`Main()` ä¸­çš„ä»£ç é¦–å…ˆä½¿ç”¨æ–°çš„å§”æ‰˜ç±»åž‹å£°æ˜Žä¸€ä¸ªå˜é‡ï¼š

>```javascript
        static void Main(string[] args)
        {
            ProcessDelegate process;
        }
```
>&emsp;&emsp;æŽ¥ç€ç”¨ä¸€äº›æ¯”è¾ƒæ ‡å‡†çš„C#ä»£ç è¯·æ±‚ç”±é€—å·åˆ†éš”çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¹¶å°†è¿™äº›æ•°å­—æ”¾åœ¨ä¸¤ä¸ª `double` å˜é‡ä¸­ï¼š

>```javascript
        Console.WriteLine("Enter 2 numbers separated with a comma:");
        string input = Console.ReadLine();
        int commaPos = input.IndexOf(',');
        double param1 = Convert.ToDouble(input.Substring(0, commaPos));
        double param2 = Convert.ToDouble(input.Substring(commaPos + 1, input.Length.Length - commaPos - 1));
```
>&emsp;&emsp;**ä¸ºè¯´æ˜Žé—®é¢˜ï¼Œè¿™é‡Œæ²¡æœ‰éªŒè¯ç”¨æˆ·è¾“å…¥çš„æœ‰æ•ˆæ€§ã€‚å¦‚æžœè¿™äº›æ˜¯ â€œçŽ°å®žä¸­çš„â€ä»£ç ï¼Œå°±åº”èŠ±è´¹æ›´å¤šçš„æ—¶é—´æ¥ç¡®ä¿åœ¨å±€éƒ¨å˜é‡ `param1` å’Œ `param2` ä¸­å¾—åˆ°æœ‰æ•ˆçš„å€¼ã€‚ **

>&emsp;&emsp;æŽ¥ç€ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯è¦ç›¸ä¹˜ï¼Œè¿˜æ˜¯ç›¸é™¤è¿™ä¸¤ä¸ªæ•°å­—ï¼š

>```javascript
        Console.WriteLine("Enter M to multiply or D to divide:");
        intput = Console.ReadLine();
```

>&emsp;&emsp;æ ¹æ®ç”¨æˆ·çš„é€‰æ‹©ï¼Œåˆå§‹åŒ– `process` å§”æ‰˜å˜é‡ï¼š

>```javascript
        if (input == "M")
            process = new ProcessDelegate(Multiply);
        else
            process = new ProcessDelegate(Divide);
```

>&emsp;&emsp;è¦æŠŠä¸€ä¸ªå‡½æ•°å¼•ç”¨èµ‹ç»™å§”æ‰˜å˜é‡ï¼Œéœ€è¦ä½¿ç”¨ç•¥æ˜¾å¤æ€ªçš„è¯­æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒç±»ä¼¼äºŽç»™æ•°ç»„èµ‹å€¼ï¼Œå¿…é¡»ä½¿ç”¨ `new` å…³é”®å­—åˆ›å»ºä¸€ä¸ªæ–°å§”æ‰˜ã€‚åœ¨è¿™ä¸ªå…³é”®å­—çš„åŽé¢ï¼ŒæŒ‡å®šå§”æ‰˜ç±»åž‹ï¼Œæä¾›ä¸€ä¸ªå¼•ç”¨æ‰€éœ€å‡½æ•°çš„å‚æ•°ï¼Œè¿™é‡Œä¹Ÿå°±æ˜¯ `Multiply()` æˆ– `Divide()` å‡½æ•°ã€‚æ³¨æ„ âš ï¸è¿™ä¸ªå‚æ•°ä¸Žå§”æ‰˜ç±»åž‹æˆ–ç›®æ ‡å‡½æ•°çš„å‚æ•°ä¸åŒ¹é…ï¼Œè¿™æ˜¯å§”æ‰˜èµ‹å€¼çš„ä¸€ä¸ªç‹¬ç‰¹è¯­æ³•ï¼Œå‚æ•°æ˜¯è¦ä½¿ç”¨çš„å‡½æ•°åï¼Œä¸”ä¸å¸¦æ‹¬å·ã€‚

>&emsp;&emsp;å®žé™…ä¸Šï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ç•¥å¾®ç®€å•çš„è¯­æ³•ï¼š

>```javascript
        if (input == "M")
            process = Multiply;
        else
            process = Divide;
```

>&emsp;&emsp;ç¼–è¯‘å™¨ä¼šå‘çŽ°ï¼Œ`process` å˜é‡çš„å§”æ‰˜ç±»åž‹åŒ¹é…ä¸¤ä¸ªå‡½æ•°çš„ç­¾åï¼ŒäºŽæ˜¯è‡ªåŠ¨åˆå§‹åŒ–ä¸€ä¸ªå§”æ‰˜ã€‚å¯ä»¥è‡ªè¡Œç¡®å®šä½¿ç”¨å“ªä¸ªè¯­æ³•ï¼Œä½†ä¸€äº›äººå–œæ¬¢ä½¿ç”¨è¾ƒé•¿çš„ç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒæ›´å®¹æ˜“ä¸€çœ¼çœ‹å‡ºä¼šå‘ç”Ÿä»€ä¹ˆã€‚

>&emsp;&emsp;æœ€åŽï¼Œä½¿ç”¨è¯¥å§”æ‰˜è°ƒç”¨æ‰€é€‰çš„å‡½æ•°ã€‚æ— è®ºå§”æ‰˜å¼•ç”¨çš„æ˜¯ä»€ä¹ˆå‡½æ•°ï¼Œè¯¥è¯­æ³•éƒ½æ˜¯æœ‰æ•ˆçš„ï¼š

>```javascript
        Console.WriteLine("Result: {0}", process(param1, param2));
        Console.ReadKey();
```

>&emsp;&emsp;è¿™é‡ŒæŠŠå§”æ‰˜å˜é‡çœ‹ä½œä¸€ä¸ªå‡½æ•°åã€‚ä½†ä¸Žå‡½æ•°ä¸åŒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹è¿™ä¸ªå˜é‡æ‰§è¡Œæ›´å¤šæ“ä½œï¼Œä¾‹å¦‚ï¼Œé€šè¿‡å‚æ•°å°†å…¶ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

>```javascript
        static void ExecuteFunction(ProcessDelegate process)
        {
            process(2.2, 3.3);
        }
```












ðŸ”š